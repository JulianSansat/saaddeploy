<%= javascript_include_tag 'plano_modal' %>
<div class="row mt">
    <div class="col-lg-12 main-chart">
    <div class="row">
    <h2><i class="fa fa-angle-right">Forças</i></h2>
        <h4><%= link_to 'Adicionar Força', '#new_strength_modal', 'data-toggle' => 'modal' %></h4>

        <div id = "strengths">
            <%= render @strengths%>
        </div>

        <div class="modal fade" id="new_strength_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Criar nova Força</h4>
              </div>
              <div class="modal-body">
                <%# Render the new person form (passing modal => true to enable remote => true) %>
                <%= render 'strengths/form', modal: true %>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>
    </div>

<div class="row">
        <h2><i class="fa fa-angle-right">Fraquezas</i></h2>
        <h4><%= link_to 'Adicionar Fraqueza', '#new_weakness_modal', 'data-toggle' => 'modal' %></h4>

        <div id = "weaknesses">
            <%= render @weaknesses%>
        </div>

        <div class="modal fade" id="new_weakness_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Criar nova Fraqueza</h4>
              </div>
              <div class="modal-body">
                <%# Render the new person form (passing modal => true to enable remote => true) %>
                <%= render 'weaknesses/form', modal: true %>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>
        </div>

        <div class="row">
        <h2><i class="fa fa-angle-right">Oportunidades</i></h2>
        <h4><%= link_to 'Adicionar Oportunidade', '#new_opportunity_modal', 'data-toggle' => 'modal' %></h4>

        <div id = "opportunities">
            <%= render @opportunities%>
        </div>

        <div class="modal fade" id="new_opportunity_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Criar nova Oportunidade</h4>
              </div>
              <div class="modal-body">
                <%# Render the new person form (passing modal => true to enable remote => true) %>
                <%= render 'opportunities/form', modal: true %>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>
    </div>

        <div class="row">
        <h2><i class="fa fa-angle-right">Ameaças</i></h2>
        <h4><%= link_to 'Adicionar Ameaça', '#new_threat_modal', 'data-toggle' => 'modal' %></h4>

        <div id = "threats">
            <%= render @threats%>
        </div>

        <div class="modal fade" id="new_threat_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Criar nova Ameaça</h4>
              </div>
              <div class="modal-body">
                <%# Render the new person form (passing modal => true to enable remote => true) %>
                <%= render 'threats/form', modal: true %>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>
    </div>

    <div class="row">
        <h2><i class="fa fa-angle-right">Objetivos</i></h2>
        <h4><%= link_to 'Adicionar Objetivo', '#new_objective_modal', 'data-toggle' => 'modal' %></h4>

        <div id = "objectives">
            <%= render @objectives%>
        </div>

        <div class="modal fade" id="new_objective_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Criar novo Objetivo</h4>
              </div>
              <div class="modal-body">
                <%# Render the new person form (passing modal => true to enable remote => true) %>
                <%= render 'objectives/form', modal: true %>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>
    </div>
    <%= form_for(@plano) do |f| %>
  <% if @plano.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@plano.errors.count, "error") %> prohibited this plano from being saved:</h2>

      <ul>
      <% @plano.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <h2><i class="fa fa-angle-right">Minha Missão</i></h2>
    <%= f.text_area :mission%>
  </div>

  <div class="field">
    <%= f.label :status %>
    <%= f.select :publico, [['Raschunho', false] , ['Finalizado', true]] %>
  </div>
  <div class="actions">
    <%= f.submit ( f.object.new_record? ? "Criar plano" : "Atualizar plano"), class: "btn" %>
  </div>
<% end %>

        <%= link_to "Gerar PDF", student_area_pdf_plan_path(format: 'pdf') %>

        </div>
</div>
